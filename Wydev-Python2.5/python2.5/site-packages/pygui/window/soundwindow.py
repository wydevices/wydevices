# -*- coding: utf-8 -*- 
#
# Description:
#
# GUI Sound Window Class Definition
#
#
#
# Changes:
#
# 2012-04-01
# Initial Commit
#
#
# Copyright 2010-2014, WyDev Team.
# Author: Polo35 (polo35580@hotmail.fr)
#
# Licenced under Academic Free License version 3.0
# Review WyGui README & LICENSE files for further details.

from __future__ import absolute_import

__all__ = ['SoundLevelWindow', 'MuteWindow']

from pygui.window.core import Window, gui_updater
from pygui.eventmanager.windows import CancelOnlyEventHandler
from pygui.eventmanager import NullEventHandler



# A simple window showing current sound level.
class SoundLevelWindow(Window):

	type = 'soundlevel'
	_progress = 0
	_mute = False

	def __init__(self, title='Sound', description=''):
		Window.__init__(self)
		self.title = title
		self.eventhandler = NullEventHandler(self)
		return None

	def _get_progress(self):
		return self._progress

	@gui_updater
	def _set_progress(self, val):
		self._progress = int(val)
		self.title = 'Sound level %s' % val
		return None

	progress = property(_get_progress, _set_progress)
	del _get_progress
	del _set_progress

	def _get_mute(self):
		return self._mute

	def _set_mute(self, mute):
		self._mute = mute
		return None

	mute = property(_get_mute, _set_mute)
	del _get_mute
	del _set_mute

	def _get_icon(self):
		if self.mute:
			return 'mute-icon.png'
		return 'volume-icon.png'

	icon = property(_get_icon)



# A simple window showing current Mute state.
class MuteWindow(Window):

	type = 'mute'
	persistent = True

	def __init__(self, title='Mute', description=''):
		Window.__init__(self)
		self.title = title
		self.eventhandler = NullEventHandler(self)
		self.icon = 'mute-icon.png'
		return None
