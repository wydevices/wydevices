# -*- coding: utf-8 -*- 
#
# Description:
#
# EventManager Action Menu Class Definition
#
#
#
# Changes:
#
# 2014-04-07
# Initial Commit
#
#
# Copyright 2010-2014, WyDev Team.
# Author: Polo35 (polo35580@hotmail.fr)
#
# Licenced under Academic Free License version 3.0
# Review WyGui README & LICENSE files for further details.


from __future__ import absolute_import

from pygui.eventmanager.menus.core import MenuEventHandler
from pygui.eventmanager import EventDispatcher
from peewee.debug import PRINT_EXCEPTION
from pygui.shared import pygui_globs


class ActionMenuEventHandler(MenuEventHandler):

	def event_right(self, event):
		self.player.focus_next()
		return True

	def event_left(self, event):
		self.player.focus_previous()
		return True

	def event_select(self, event):
		try:
			return MenuEventHandler.event_select(self, event, list_name=None)
		except Exception, e:
			PRINT_EXCEPTION(e)
		return None

	def event_action_menu(self, event):
		ms = pygui_globs['menustack']
		ms.back_one_menu()
		player = ms.get_player()
		if player and hasattr(player, 'paused_hand_status'):
			player.paused = player.paused_hand_status
			del player.paused_hand_status
		return True

	def event_toggle_menu(self, event):
		return True
