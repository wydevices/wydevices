# -*- coding: utf-8 -*- 
#
# Description:
#
# Actions Hand Universe Class Definition
#
#
#
# Changes:
#
# 2014-04-07
# Initial Commit
#
#
# Copyright 2010-2014, WyDev Team.
# Author: Polo35 (polo35580@hotmail.fr)
#
# Licenced under Academic Free License version 3.0
# Review WyGui README & LICENSE files for further details.


from __future__ import absolute_import

name = 'Universe'
position = 1
image = 'hand_universe'
category = 'navigator'
default = False
unique = False

from pygui.actions.jobs.common import push_search_menu, switch_to_children_mode, switch_to_parent_mode, display_hidden_items
from pygui.actions.jobs.tv import display_epg
from pygui.item.core import ActionItem
from pygui.shared import pygui_globs
from pygui.config import user_config


def is_available(context):
	return True


def get_action_info_list(context):
	stack = pygui_globs['menustack']
	menu_type = context['menu'].type
	act = [ActionItem(_('Search'), type_='action', action=push_search_menu, args=[context])]
	if menu_type in ('image', 'video', 'video_image', 'audio'):
		if user_config['security']['parental_control']:
			if user_config['security']['parent_mode']:
				name = _('Set to child mode')
				action = switch_to_children_mode
				if user_config['security']['show_hidden']:
					val, name_hide = (False, _('Not display hidden items'))
				else:
					val, name_hide = (True, _('Display hidden items'))
				act.append(ActionItem(name_hide, type_='action', action=display_hidden_items, args=[val, context, stack]))
			else:
				name = _('Set to parent mode')
				action = switch_to_parent_mode
			act.append(ActionItem(name, type_='action', action=action, args=[context, stack]))
	if menu_type in ('tv_navigator',):
		act = [ActionItem(_('Display program guide'), type_='action', action=display_epg, args=[context['menu'], stack])]
	return act
