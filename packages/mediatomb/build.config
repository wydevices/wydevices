# Generic package building template.
#
# Remove not used variables.
#
# * Binaries will be searched on:
#    - Built packages
#    - STLinux binaries
#    - 'scripts' folder
#
# * Files in this folders will be
#   copied to final package:
#    - config-files
#    - static-files
#

# package name
NAME="mediatomb"

# package version
VERSION=0.12.1

# other packages that will be included
SUBPACKAGES=""

# package dependencies
DEPENDS=""

# url to download sources file
URL="http://downloads.sourceforge.net/mediatomb/mediatomb-0.12.1.tar.gz"

# name of sources file
SRCFILE="mediatomb-0.12.1.tar.gz"

# sources dir
SRCDIR="mediatomb-0.12.1"

# actions before compilation
PRE_COMPILATION() {

pwd >/tmp/out.txt
ls >>/tmp/out.txt
patch < ./static-files/wypatch-Mediatomb-SamsungFix-uri.c.patch ./mediatomb-0.12.1/tombupnp/upnp/src/genlib/net/uri/uri.c >> /tmp/out.txt
cat /tmp/out.txt

}

# configure flags
CONFIGUREFLAGS="--host=sh4-linux \
		--disable-rpl-malloc \
		--disable-mysql \
		--disable-youtube \
		--disable-ffmpeg \
		--disable-ffmpegthumbnailer \
		--disable-libexif \
		--disable-libmp4v2 \
		--prefix=/wymedia/usr"

# actions before building the wybox package
#PRE_WYBOX_PKG_BUILD() {

#}

# binary files to include in final package
BINARIES="mediatomb"

# actions to clean compilation files
#CLEAN() {

#}


