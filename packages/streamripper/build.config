# Generic package building template.
#
# Remove not used variables.
#
# * Binaries will be searched on:
#    - Built packages
#    - STLinux binaries
#    - 'scripts' folder
#
# * Files in this folders will be
#   copied to final package:
#    - config-files
#    - static-files
#

# package name
NAME="streamripper"

# package version
VERSION=1.64.6

# other packages that will be included
SUBPACKAGES=""

# package dependencies
DEPENDS="libmad"

# url to download sources file
URL="http://downloads.sourceforge.net/project/streamripper/streamripper%20%28current%29/1.64.6/streamripper-1.64.6.tar.gz?r=&ts=1408992872&use_mirror=switch"

# name of sources file
SRCFILE="streamripper-$VERSION.tar.gz*"

# sources dir
SRCDIR="streamripper-$VERSION"

# actions before compilation
PRE_COMPILATION() {

echo "PREstaging headers"
echo "executing on" $(pwd)

cp /opt/STM/STLinux-2.3/devkit/sh4/target/usr/lib/glib-2.0/include/* ./streamripper-$VERSION/lib/ -Rf
cp /opt/STM/STLinux-2.3/devkit/sh4/target/usr/include/ogg/* ./streamripper-$VERSION/lib/ -Rf
cp /opt/STM/STLinux-2.3/devkit/sh4/target/usr/include/vorbis/* ./streamripper-$VERSION/lib/ -Rf
cp /opt/STM/STLinux-2.3/devkit/sh4/target/usr/include/glib-2.0/* ./streamripper-$VERSION/lib/ -Rf
}

# configure flags
CONFIGUREFLAGS="--host=sh4-linux \
		--prefix=/wymedia/usr"

		#--includedir=/opt/STM/STLinux-2.3/devkit/sh4/target/usr/include/glib-2.0/ \
		#--disable-glibtest \


# actions before building the wybox package
#PRE_WYBOX_PKG_BUILD() {

#}

# binary files to include in final package
BINARIES="streamripper"

# actions to clean compilation files
#CLEAN() {

#}


